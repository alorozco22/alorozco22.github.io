"use strict";function ebTruncateText(e,i){var r=e;return r.length>i&&(r=r.substring(0,i)+"â€¦"),r}var ebSlideSupports=function(){return-1===navigator.userAgent.indexOf("Opera Mini")&&"querySelector"in document&&"addEventListener"in window&&"onhashchange"in window&&!!Array.prototype.forEach&&document.querySelectorAll(".slides")},ebSlidesMoveSummaryMeta=function(e){e.forEach(function(e){var i=e.querySelector(".summary"),r=i.querySelector(".caption"),t=i.querySelector(".figure-source"),n=document.createElement("div");n.classList.add("figure-summary-meta"),null!=r&&n.insertAdjacentHTML("beforeend",r.outerHTML),null!=t&&n.insertAdjacentHTML("beforeend",t.outerHTML),e.insertAdjacentHTML("beforeend",n.outerHTML),e.id=i.id,e.removeChild(i)})},ebSlidesBuildNav=function(e){e.forEach(function(e){var i=e.querySelectorAll(".figure"),r=i.length,t="";t+='<nav class="nav-slides',r>4&&(t+=" nav-slides-many",r>6&&(t+=" nav-slides-many-many")),t+='">',t+="<ol>",i.forEach(function(e){if(t+="<li>",t+='<a href="#'+e.id+'">',e.querySelector(".figure-images img")){var i=e.querySelector(".figure-images img").cloneNode();i.removeAttribute("srcset"),i.removeAttribute("sizes"),i.setAttribute("alt",""),t+=i.outerHTML}else{var r=e.querySelector(".figure-body .title").innerText;r=ebTruncateText(r,8),t+='<span class="slide-thumbnail-text">',t+=r,t+="</span>"}t+="</a>",t+="</li>"}),t+="</ol>",t+="</nav>",e.insertAdjacentHTML("afterbegin",t)})},ebResetSlides=function(e){e.forEach(function(e){e.querySelectorAll(".figure").forEach(function(e){e.classList.add("visuallyhidden")}),e.previousElementSibling.querySelectorAll(".nav-slides li").forEach(function(e){e.classList.remove("slide-current")})})},ebSlidesShowFirstInSlideline=function(e){e.querySelectorAll(".figure")[0].classList.remove("visuallyhidden")},ebSlidesShowFirst=function(e){e.forEach(function(e){ebSlidesShowFirstInSlideline(e)})},ebSlidesMarkNavUpToCurrent=function(e){var i=e.querySelectorAll(".nav-slides li"),r=!1;i.forEach(function(e){if(!r)return e.classList.contains("slide-current")?void(r=!0):void e.classList.add("slide-current")})},ebSlidesShow=function(e){if(!window.location.hash)return void ebSlidesShowFirst(e);var i=decodeURIComponent(window.location.hash.replace(":","\\:"));if(!isNaN(i[1]))return void ebSlidesShowFirst(e);e.forEach(function(e){if(!e.querySelector(i))return void ebSlidesShowFirstInSlideline(e);e.querySelector(i).classList.remove("visuallyhidden"),e.querySelectorAll(".nav-slides li").forEach(function(e){e.classList.remove("slide-current")});var r='.nav-slides [href="'+i+'"]',t=e.querySelector(r);t.setAttribute("tabindex",0),t.focus(),t.parentNode.classList.add("slide-current"),ebSlidesMarkNavUpToCurrent(e)})},ebSlidesKeyDown=function(){window.addEventListener("keydown",function(e){var i=e.key||e.which,r=e.target||e.srcElement;document.querySelector(".slides "+r.hash)&&("ArrowLeft"!==i&&37!==i&&"ArrowUp"!==i&&38!==i||!r.parentNode.previousElementSibling?"ArrowRight"!==i&&39!==i&&"ArrowDown"!==i&&"40"!==i||!r.parentNode.nextElementSibling||(e.preventDefault(),r.parentNode.nextElementSibling.querySelector("a").click()):(e.preventDefault(),r.parentNode.previousElementSibling.querySelector("a").click()))})},ebSlidesAlreadyShown=function(){document.querySelectorAll(".nav-slides a").forEach(function(e){e.addEventListener("click",function(e){document.querySelector(this.getAttribute("href")).classList.contains("visuallyhidden")||e.preventDefault()})})},ebSlides=function(){if(ebSlideSupports()){var e=document.querySelectorAll(".slides");ebSlidesMoveSummaryMeta(e),ebSlidesBuildNav(e),ebResetSlides(e),ebSlidesShow(e),ebSlidesAlreadyShown(),window.addEventListener("hashchange",function(){ebResetSlides(e),ebSlidesShow(e)}),ebSlidesKeyDown()}};ebSlides();