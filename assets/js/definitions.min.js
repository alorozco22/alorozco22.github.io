"use strict";var ebDefinitionsInit=function(){return-1===navigator.userAgent.indexOf("Opera Mini")&&"querySelector"in document&&"addEventListener"in window&&!!Array.prototype.forEach},ebDefinitionsSlugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},ebDefinitionsMoveDefinitions=function(){document.querySelectorAll(".definition-term").forEach(function(e){e.parentNode.classList.add("hidden-definition-list");var i=e.innerHTML,i=i.replace(/(<([^>]+)>)/gi,""),n=i.replace("’","'"),n=n.replace("‘","'");document.querySelector('[data-term="'+n+'"]')&&document.querySelectorAll('[data-term="'+n+'"]').forEach(function(n){var t=e.nextElementSibling.innerHTML,o=document.createElement("span");o.innerHTML='<span class="definition-hover-term">'+i+"</span> "+t,o.classList.add("visuallyhidden"),o.classList.add("definition-description-hover"),o.id="dd-"+ebDefinitionsSlugify(i),n.insertAdjacentElement("afterEnd",o);var s=document.createElement("button");s.classList.add("close"),s.innerHTML='<span class="visuallyhidden">close</span>',o.appendChild(s)})})},ebDefinitionsShowDescriptions=function(){document.querySelectorAll("[data-term]").forEach(function(e){var i=e.nextElementSibling;e.addEventListener("click",function(){i.classList.remove("visuallyhidden")})})},ebDefinitionsHideDescriptions=function(){document.querySelectorAll(".definition-description-hover").forEach(function(e){e.addEventListener("mouseleave",function(){setTimeout(function(){e.classList.add("visuallyhidden")},1e3)})})},ebDefinitionsHideDescriptionWithButton=function(){document.querySelectorAll(".definition-description-hover button.close").forEach(function(e){e.addEventListener("click",function(){e.parentNode.classList.add("visuallyhidden")})})},ebDefinitions=function(){ebDefinitionsInit()&&(ebDefinitionsMoveDefinitions(),ebDefinitionsShowDescriptions(),ebDefinitionsHideDescriptions(),ebDefinitionsHideDescriptionWithButton())};ebDefinitions();